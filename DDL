CREATE TABLE TB_ENDERECO(
    END_CODIGO INT NOT NULL PRIMARY KEY,
    END_LOGRADOURO VARCHAR(100) NOT NULL
);

CREATE TABLE TB_BAIRRO(
    BAI_CODIGO INT NOT NULL PRIMARY KEY,
    BAI_DESCRICAO VARCHAR(100)
);

CREATE TABLE TB_DEPENDENTE(
    DEP_CODIGO INT NOT NULL PRIMARY KEY,
    DEP_NOME VARCHAR(100) NOT NULL,
    DEP_DTNASCIMENTO DATE NOT NULL
);

CREATE TABLE TB_OPCIONAL(
    OPC_CODIGO INT NOT NULL PRIMARY KEY,
    OPC_DESCRICAO VARCHAR(250) NOT NULL,
    OPC_VALOR DECIMAL(10,2) NOT NULL
);

CREATE TABLE TB_QUIOSQUE(
    QUI_CODIGO INT NOT NULL PRIMARY KEY,
    QUI_DESCRICAO VARCHAR(45) NOT NULL
);

CREATE TABLE TB_CIDADE(
    CID_CODIGO INT NOT NULL PRIMARY KEY,
    CID_DESCRICAO VARCHAR(100) NOT NULL,
    CID_UF CHAR(2) NOT NULL
);

CREATE TABLE TB_QUIOSQUE_OPCIONAL(
    QUIOPC_CODQUIOSQUE INT NOT NULL
                REFERENCES TB_QUIOSQUE(QUI_CODIGO),
    QUIOPC_CODOPCIONAL INT NOT NULL
                REFERENCES TB_OPCIONAL(OPC_CODIGO),
    PRIMARY KEY (QUIOPC_CODQUIOSQUE, QUIOPC_CODOPCIONAL)
);

CREATE TABLE TB_ASSOCIADO(
    ASS_CODIGO INT NOT NULL PRIMARY KEY,
    ASS_NOME VARCHAR(100) NOT NULL,
    ASS_CPF VARCHAR(20) NULL,
    ASS_NUMERO_END VARCHAR(6) NOT NULL,
    ASS_TELEFONE VARCHAR(20) NOT NULL,
    ASS_EMAIL VARCHAR(100) NULL,
    ASS_CODDEPENDENTE INT NOT NULL
            REFERENCES TB_DEPENDENTE(DEP_CODIGO),
    ASS_CODBAIRRO INT NOT NULL
            REFERENCES TB_BAIRRO(BAI_CODIGO),
    ASS_CODENDERECO INT NOT NULL
            REFERENCES TB_ENDERECO(END_CODIGO),
    ASS_CODCIDADE INT NOT NULL
            REFERENCES TB_CIDADE(CID_CODIGO)
);

CREATE TABLE TB_FUNCIONARIO(
    FUN_CODIGO INT NOT NULL PRIMARY KEY,
    FUN_NOME VARCHAR(100) NOT NULL,
    FUN_DTADMISSAO DATE NOT NULL,
    FUN_DTDEMISSAO DATE NULL,
    FUN_CTPS VARCHAR(15),
    FUN_RG VARCHAR(20),
    FUN_CPF VARCHAR(20),
    FUN_NUMERO_END VARCHAR(6),
    FUN_CODBAIRRO INT NOT NULL
            REFERENCES TB_BAIRRO(BAI_CODIGO),
    FUN_CODENDERECO INT NOT NULL
            REFERENCES TB_ENDERECO(END_CODIGO),
    FUN_CODCIDADE INT NOT NULL
            REFERENCES TB_CIDADE(CID_CODIGO)
);

CREATE TABLE TB_LOCACAO(
    LOC_CODIGO INT NOT NULL PRIMARY KEY,
    LOC_DTINICIO DATE NOT NULL,
    LOC_DTFIM DATE NULL,
    LOC_SITUACAO VARCHAR(45) NULL,
    LOC_CODQUIOSQUE INT NOT NULL
            REFERENCES TB_QUIOSQUE(QUI_CODIGO),
    LOC_CODFUNCIONARIO INT NOT NULL
            REFERENCES TB_FUNCIONARIO(FUN_CODIGO),
    LOC_CODASSOCIADO INT NOT NULL
            REFERENCES TB_ASSOCIADO(ASS_CODIGO),
    LOV_VALORTOTAL DECIMAL(10,2) NOT NULL
);
-- 2 – Adicione o atributo RG na tabela TB_ASSOCIADO
ALTER TABLE TB_ASSOCIADO ADD ASS_RG VARCHAR(20) NOT NULL
-- 3 – Remova o atributo LOC_VALORTOTAL da tabela TB_LOCACAO
ALTER TABLE TB_LOCACAO DROP COLUMN LOc_VALORTOTAL
/* 4 – Altere o nome do atributo FUN_NUMERO_END da tabela TB_FUNCIONARIO
para FUN_NUMERO; */
ALTER TABLE TB_FUNCIONARIO RENAME COLUMN FUN_NUMERO_END TO FUN_NUMERO
-- 5 – Altere o tipo do atributo ASS_CPF da tabela TB_ASSOCIADO para CHAR(11);
ALTER TABLE TB_ASSOCIADO MODIFY ASS_CPF VARCHAR(11)
-- 6 – Apague a tabela TB_DEPENDENTE;
DROP TABLE TB_DEPENDENTE CASCADE CONSTRAINT-- CASCATE ;( nao sei usar cascade
-- 7 – Adicione o atributo QUI_LOCALIZACAO na tabela TB_QUIOSQUE
ALTER TABLE TB_QUIOSQUE ADD QUI_LOCALIZACAO VARCHAR(15) NOT NULL
/* 8 – Altere o nome da coluna LOC_DTINICIO da tabela TB_LOCACAO para
LOC_DATA_INICIO; */
ALTER TABLE TB_LOCACAO RENAME COLUMN LOC_DTINICIO TO LOC_DATA_INICIO
-- 9 – Altere o tipo do atributo CPF na tabela TB_FUNCIONARIO para CHAR(11)
ALTER TABLE TB_FUNCIONARIO MODIFY FUN_CPF CHAR(11)
-- 10- Renomeie a tabela TB_ASSOCIADO para TB_SOCIO.
ALTER TABLE TB_ASSOCIADO RENAME TO TB_SOCIO

